@use "../../references";

.nav-buttons-container {
    gap: var(--size-4-2);
}

.nav-folder {
    --cc-nesting: 0;
    .nav-folder {
        --color-accent: var(--cc-accent-02);
        --cc-nesting: 1;
        .nav-folder {
            --color-accent: var(--cc-accent-03);
            --cc-nesting: 2;
            .nav-folder {
                --color-accent: var(--cc-accent-04);
                --cc-nesting: 3;
                .nav-folder {
                    --color-accent: var(--cc-accent-05);
                    --cc-nesting: 4;
                }
            }
        }
    }
}

.tree-item-self {
    align-items: center;
    display: flex;
    position: relative;
    letter-spacing: 0.05em;
    margin-bottom: 0;
}

.nav-files-container > div > .nav-file {
    border-radius: var(--cc-nav-folder-radius);
    overflow: hidden;
}

.nav-folder, .tree-item:has(> .mod-collapsible), .search-result {
    border: var(--cc-nav-folder-border-width) solid color-mix(in oklab, var(--color-accent) var(--cc-alpha-3-4), var(--cc-sidebar-background));
    border-radius: var(--cc-nav-folder-radius);
    overflow: hidden;
    & > .tree-item-self {
        padding: var(--nav-item-parent-padding);
    }
    .collapse-icon {
        margin-inline-start: 0;
        order: 3;
        position: unset;
    }
    .tree-item {
        margin-left: var(--cc-nav-folder-border-width);
    }
    .tree-item-self {
        border-radius: 0;
    }
    .tree-item-inner {
        flex-grow: 1;
        order: 1;
    }
    .tree-item-flair-outer {
        order: 2;
    }
}

:is(.nav-folder, .tree-item:has(> .mod-collapsible), .search-result) + :is(.nav-folder, .tree-item:has(> .mod-collapsible), .search-result) {
    margin-top: calc(-1 * var(--cc-nav-folder-border-width));
}

.collapse-icon svg.svg-icon {
    stroke-width: var(--cc-collapse-stroke-width);
}

.nav-folder-title-content {
    color: color-mix(in oklab, var(--color-accent) 20%, rgb(var(--mono-rgb-100)) 80%);
}

.nav-file-title-content {
    background-color: rgb(from var(--color-accent) r g b / var(--cc-alpha-1-4));
    width: 100%;
    border-radius: var(--cc-nav-item-radius);
    padding: 0 var(--size-4-3);
}

.tree-item-self:is(:hover, .is-active) .tree-item-inner {
    background-color: transparent;
}

.nav-file-tag {
    background-color: transparent;
    order: 4;
}

.tree-item-children {
    margin-bottom: 0;
}

.nav-folder-title {
    margin-left: calc(-24px + 8px);
}

.nav-file-title-content, .nav-folder-title-content {
    padding-top: var(--size-2-1);
}